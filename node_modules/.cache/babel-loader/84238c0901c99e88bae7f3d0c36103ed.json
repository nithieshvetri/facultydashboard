{"ast":null,"code":"import _slicedToArray from\"D:/PROJECT/practice/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";// import axios from \"axios\";\nimport{RiFileDownloadFill}from'react-icons/ri';import{FcDownload}from'react-icons/fc';// import Individual from './individuasl';\nimport jsPDF from'jspdf';import*as autoTable from'jspdf-autotable';import*as FileSaver from'file-saver';import*as XLSX from'xlsx';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Individual(_ref){var data=_ref.data,list=_ref.list,year=_ref.year,vals=_ref.vals,setData=_ref.setData,individualIndex=_ref.individualIndex,setIndividualindex=_ref.setIndividualindex;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),fieldGroup=_useState2[0],setFieldGroup=_useState2[1];useEffect(function(){// setIndividualindex(0)\nsetFieldGroup(Object.keys(data).filter(function(a){return a.includes('CAY');}));// setFieldGroup(Object.keys(data).filter((a)=>a.includes('Feedback') || a.includes('FRP') || a.includes('FAP')|| a.includes('FRS')))\n},[data]);var changeHandler=function changeHandler(e){var operation=e.target.getAttribute(\"data-operation\");if(operation===\"+\"){if(individualIndex>=17||individualIndex>=vals.length-1){setIndividualindex(0);setData(vals[0]);}else{setIndividualindex(individualIndex+1);setData(vals[individualIndex+1]);}}if(operation===\"-\"){if(individualIndex<=0){setIndividualindex(vals.length-1);setData(vals[vals.length-1]);}else{setIndividualindex(individualIndex-1);setData(vals[individualIndex-1]);}}};var generatePdf=function generatePdf(){var doc=new jsPDF('landscape','px','a4');doc.autoTable({styles:{halign:'center',valign:\"middle\"},theme:'grid',headStyle:{fillColor:(165,42,42)},head:[['FACULTY_ID','FACULTY_NAME','DEPARTMENT','DESIGNATION','FAP_2021','FRS_2021','FRP_2021','FEEDBACK_2021']],body:list.map(function(list){return[[list.faculty_id],[list.name],[list.department],[list.designation],[list.CAY_FAP_Score],[list.CAY_FRS],[list.CAY_FRP_Score],[list.CAY_Feedback_Score]];})});doc.save('table.pdf');};var fileType='application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';var fileExtension='.xlsx';var fileName=\"download\";var exportToCSV=function exportToCSV(list,fileName){var ws=XLSX.utils.json_to_sheet(list);var wb={Sheets:{'data':ws},SheetNames:['data']};var excelBuffer=XLSX.write(wb,{bookType:'xlsx',type:'array'});var data=new Blob([excelBuffer],{type:fileType});FileSaver.saveAs(data,fileName+fileExtension);};console.log(year);return/*#__PURE__*/_jsxs(\"div\",{className:\"results-data-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"results-list-page-nav\",children:[/*#__PURE__*/_jsxs(\"button\",{\"data-operation\":\"-\",onClick:changeHandler,children:[\"< \",individualIndex+1]}),\" \",/*#__PURE__*/_jsxs(\"button\",{\"data-operation\":\"+\",onClick:changeHandler,children:[\"- \",vals.length,\">\"]}),\" \"]}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/en/7/77/Bannari_Amman_Institute_of_Technology_logo.png\",alt:\"BANNARI AMMAN INSTITUTE OF TECHNOLOGY\",style:{width:'120px',height:'70px',textAlign:'center',borderRadius:'50%',objectFit:'contain'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"result-data-name\",children:data.name}),/*#__PURE__*/_jsx(\"span\",{className:\"result-data-department\",children:data.department}),/*#__PURE__*/_jsx(\"span\",{className:\"particular\",style:{color:\"blue\"},children:/*#__PURE__*/_jsx(\"strong\",{children:\"FACULTY INFORMATION\"})}),Object.keys(data).map(function(x,faculty_id){return(//  typeof data[x] === 'string' && data[x].toLowerCase().includes('nan') ? '':\nfieldGroup.indexOf(x)>0?'':/*#__PURE__*/_jsx(\"div\",{children:x.includes(\"CAY\")?\"\":/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"results-data-title\",style:{padding:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:x}),\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"results-data-value\",style:{padding:'10px'},children:[\" :\",data[x]]})]})},faculty_id));}),/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"DETAILS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab\",style:{display:'grid',gridTemplateColumns:'2fr 1fr 1fr 1fr',gridGap:'1rem'},children:[/*#__PURE__*/_jsxs(\"span\",{className:\"particulars\",style:{color:'blue',fontWeight:'bold'},children:[\"PARTICULARS\",/*#__PURE__*/_jsx(\"div\",{children:\"Faculty Action Plan\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Faculty FeedBack Score\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Faculty Reward Points\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Faculty Reliability Score\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:year[0].caym2}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"task\",children:Object.keys(fieldGroup).length>0&&fieldGroup.filter(function(x){return x.includes('CAYM2');}).map(function(x,index){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column'},children:data[x]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:year[0].caym1}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"task\",children:Object.keys(fieldGroup).length>0&&fieldGroup.filter(function(x){return x.includes('CAYM1');}).map(function(x,index){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column'},children:data[x]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:year[0].cay}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"task\",children:Object.keys(fieldGroup).length>0&&fieldGroup.filter(function(x){return x.includes('CAY_');}).map(function(x,index){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column'},children:data[x]===null?\"NAN\":data[x]},index);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"align\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:generatePdf,style:{padding:'7px 10px',margin:'auto',marginBottom:'10px',textAlign:\"center\",backgroundColor:'lightgreen',fontSize:'17px',width:\"140px\",height:\"45px\",borderRadius:\"20px\"},children:[\"      \",/*#__PURE__*/_jsx(RiFileDownloadFill,{size:\"20px\"}),\"PDF FILE\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{className:\"button\",onClick:function onClick(e){return exportToCSV(list,fileName);},style:{padding:'7px 10px',margin:'auto',textAlign:\"center\",backgroundColor:'lightblue',fontSize:'17px',height:\"45px\",width:\"140px\",borderRadius:\"20px\"},children:[/*#__PURE__*/_jsx(FcDownload,{size:\"25px\"}),\"EXCEL\"]})]})]});}","map":{"version":3,"sources":["D:/PROJECT/practice/src/components/Search/Results/individuasl.js"],"names":["React","useEffect","useState","RiFileDownloadFill","FcDownload","jsPDF","autoTable","FileSaver","XLSX","Individual","data","list","year","vals","setData","individualIndex","setIndividualindex","fieldGroup","setFieldGroup","Object","keys","filter","a","includes","changeHandler","e","operation","target","getAttribute","length","generatePdf","doc","styles","halign","valign","theme","headStyle","fillColor","head","body","map","faculty_id","name","department","designation","CAY_FAP_Score","CAY_FRS","CAY_FRP_Score","CAY_Feedback_Score","save","fileType","fileExtension","fileName","exportToCSV","ws","utils","json_to_sheet","wb","Sheets","SheetNames","excelBuffer","write","bookType","type","Blob","saveAs","console","log","width","height","textAlign","borderRadius","objectFit","color","x","indexOf","padding","display","gridTemplateColumns","gridGap","fontWeight","caym2","index","flexDirection","caym1","cay","margin","marginBottom","backgroundColor","fontSize"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n// import axios from \"axios\";\r\nimport {RiFileDownloadFill} from 'react-icons/ri';\r\nimport {FcDownload} from 'react-icons/fc';\r\n// import Individual from './individuasl';\r\nimport jsPDF from 'jspdf';\r\nimport * as autoTable from 'jspdf-autotable';\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nexport default function Individual({ data,list ,year,vals,setData,individualIndex,setIndividualindex}) {\r\n  const [fieldGroup, setFieldGroup ] = useState([])\r\n\r\n  \r\n\r\n  useEffect(()=>{\r\n    // setIndividualindex(0)\r\n    setFieldGroup(Object.keys(data).filter((a)=>a.includes('CAY')))\r\n\r\n    // setFieldGroup(Object.keys(data).filter((a)=>a.includes('Feedback') || a.includes('FRP') || a.includes('FAP')|| a.includes('FRS')))\r\n  }, [data])\r\n  const changeHandler=(e)=>{\r\n    let operation = e.target.getAttribute(\"data-operation\");\r\n    if (operation === \"+\"){\r\n\r\n      if(individualIndex>=17 || individualIndex>=vals.length-1){\r\n        setIndividualindex(0)\r\n        setData(vals[0])\r\n      }\r\nelse{\r\n  setIndividualindex(individualIndex+1)\r\n\r\n\r\n  setData(vals[individualIndex+1])\r\n\r\n}    \r\n}\r\nif (operation === \"-\"){\r\n  if(individualIndex<=0){\r\n    setIndividualindex(vals.length-1)\r\n    setData(vals[vals.length-1])\r\n  }\r\nelse{\r\nsetIndividualindex(individualIndex-1)\r\n\r\n\r\nsetData(vals[individualIndex-1])\r\n\r\n}    \r\n   \r\n}\r\n  }\r\n\r\n  const generatePdf=()=>{\r\n    var doc = new jsPDF('landscape','px','a4');\r\n    \r\n    doc.autoTable({\r\n      styles: {halign:'center',valign:\"middle\" },\r\n      theme:'grid',\r\n      headStyle:{fillColor:(165,42,42)\r\n      },\r\n      \r\n      head: [['FACULTY_ID','FACULTY_NAME','DEPARTMENT','DESIGNATION','FAP_2021','FRS_2021','FRP_2021','FEEDBACK_2021']],\r\n        \r\n        body:list.map(list=>[[list.faculty_id],[list.name],[list.department],[list.designation],[list.CAY_FAP_Score],[list.CAY_FRS],[list.CAY_FRP_Score],[list.CAY_Feedback_Score]]),\r\n       \r\n        \r\n      })\r\n    \r\n\r\n    doc.save('table.pdf'); \r\n\r\n  };\r\n\r\n  const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n    const fileExtension = '.xlsx';\r\n    const fileName=\"download\"\r\n\r\n    const exportToCSV = (list, fileName) => {\r\n        const ws = XLSX.utils.json_to_sheet(list);\r\n        const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n        const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n        const data = new Blob([excelBuffer], {type: fileType});\r\n        FileSaver.saveAs(data, fileName + fileExtension);\r\n    }\r\n    \r\nconsole.log(year)\r\n  return (\r\n      \r\n    <div className=\"results-data-container\">\r\n            <div className=\"results-list-page-nav\">\r\n\r\n      <button data-operation=\"-\" onClick={changeHandler}>\r\n          &lt; {individualIndex+1}\r\n        </button>{\" \"}\r\n        <button data-operation=\"+\" onClick={changeHandler}>\r\n         - {vals.length}&gt;\r\n        </button>{\" \"}\r\n        </div>\r\n      <center><img src=\"https://upload.wikimedia.org/wikipedia/en/7/77/Bannari_Amman_Institute_of_Technology_logo.png\"  alt=\"BANNARI AMMAN INSTITUTE OF TECHNOLOGY\" style={{width:'120px',height:'70px',textAlign:'center',borderRadius:'50%',objectFit:'contain'}}/></center>\r\n      <span className=\"result-data-name\">{data.name}</span>\r\n      <span className=\"result-data-department\">{data.department}</span>\r\n      <span className=\"particular\" style={{color:\"blue\"}}><strong>FACULTY INFORMATION</strong></span>\r\n      {  Object.keys(data).map((x,faculty_id) => {\r\n        return(\r\n          //  typeof data[x] === 'string' && data[x].toLowerCase().includes('nan') ? '':\r\n          \r\n          fieldGroup.indexOf(x) > 0 ? '' :\r\n          <div key={faculty_id}>\r\n{x.includes(\"CAY\")?\"\":\r\n        <p>\r\n        <span className=\"results-data-title\" style={{padding:'10px'}}><strong>{x}</strong> </span>\r\n        <span className=\"results-data-value\" style={{padding:'10px'}}> :{ data[x]}</span>\r\n      </p>}\r\n      </div>\r\n      )})}\r\n<span className=\"details\">DETAILS</span>\r\n<div className=\"tab\" style={{display:'grid',gridTemplateColumns:'2fr 1fr 1fr 1fr' ,gridGap:'1rem'}}>\r\n<span className=\"particulars\" style={{color:'blue',fontWeight:'bold'}}>PARTICULARS\r\n\r\n    <  div>Faculty Action Plan</ div>\r\n    < div >Faculty FeedBack Score</  div>\r\n    < div >Faculty Reward Points</ div>\r\n    < div >Faculty Reliability Score</ div>\r\n  </span>\r\n\r\n\r\n<div><h4>{year[0].caym2}</h4>\r\n<br/>\r\n{<div className=\"task\">\r\n{\r\n  Object.keys(fieldGroup).length>0 && fieldGroup.filter((x)=>x.includes('CAYM2')).map((x,index)=> <div key={index} style={{display:'flex', flexDirection:'column'}}>{data[x]}</div>)\r\n}\r\n</div>}\r\n</div>\r\n<div><h4>{year[0].caym1}</h4><br/>\r\n{<div className=\"task\">\r\n{\r\n  Object.keys(fieldGroup).length>0 && fieldGroup.filter((x)=>x.includes('CAYM1')).map((x,index)=> <div key={index} style={{display:'flex', flexDirection:'column'}}>{data[x]}</div>)\r\n}\r\n</div>}\r\n</div>\r\n<div><h4>{year[0].cay}</h4><br/>\r\n<div className=\"task\">\r\n{\r\n  Object.keys(fieldGroup).length>0 && fieldGroup.filter((x)=>x.includes('CAY_')).map((x,index)=> <div key={index} style={{display:'flex', flexDirection:'column'}}>{data[x]===null?\"NAN\":data[x]}</div>)\r\n}\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n    </div>\r\n    <div className=\"align\">\r\n    <button onClick={generatePdf}style={{padding:'7px 10px',margin:'auto',marginBottom:'10px',textAlign:\"center\",backgroundColor:'lightgreen',fontSize:'17px',width:\"140px\",height:\"45px\",borderRadius:\"20px\"}}>      <RiFileDownloadFill size=\"20px\"/>\r\nPDF FILE</button><br/>\r\n      <button className=\"button\" onClick={(e)=>exportToCSV(list,fileName)}style={{padding:'7px 10px',margin:'auto',textAlign:\"center\",backgroundColor:'lightblue',fontSize:'17px',height:\"45px\",width:\"140px\",borderRadius:\"20px\"}}><FcDownload size=\"25px\"/>\r\nEXCEL</button></div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}