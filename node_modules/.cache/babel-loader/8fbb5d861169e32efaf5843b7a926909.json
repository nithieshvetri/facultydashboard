{"ast":null,"code":"import _regeneratorRuntime from\"D:/PROJECT/practice/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/PROJECT/practice/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/PROJECT/practice/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Individual from'./individuasl';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ResultsList(_ref){var list=_ref.list,updateId=_ref.updateId,updateIndex=_ref.updateIndex,Index=_ref.Index;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),sorting=_useState2[0],setsort=_useState2[1];var vals;vals=list.slice(Index.start,Index.end);var _useState3=useState(vals[0]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),individualIndex=_useState6[0],setIndividualindex=_useState6[1];var _useState7=useState([{cay:null,caym1:null,caym2:null}]),_useState8=_slicedToArray(_useState7,2),year=_useState8[0],setyear=_useState8[1];useEffect(function(){var response=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"api/faculty/academic/\");case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;JSON.stringify(data);setyear(data);// console.log(\"Liost\",data)\n// setPersonData(data);\ncase 6:case\"end\":return _context.stop();}}},_callee);}));return function response(){return _ref2.apply(this,arguments);};}();response();},[]);useEffect(function(){updateIndex({start:0,end:18});},[list]);useEffect(function(){vals=list.slice(Index.start,Index.end);setData(vals[0]);setIndividualindex(0);},[list,Index.start,sorting]);if(!sorting){list.sort(function(a,b){return a.faculty_id.localeCompare(b.faculty_id);});}if(sorting){list.sort(function(a,b){return b.faculty_id.localeCompare(a.faculty_id);});}var changeIndexHandler=function changeIndexHandler(e){setIndividualindex(0);var operation=e.target.getAttribute(\"data-operation\");if(operation===\"-\"){if(Index.start>0)updateIndex({start:Index.start-18,end:Index.end-18});else if(Index.end<=list.length)updateIndex({start:0,end:18});else updateIndex({start:Index.start,end:Index.end});}else if(Index.end<=list.length)updateIndex({start:Index.start+18,end:Index.end+18});};list=list.map(function(list){delete list.id;//  delete list.central_responsibility;\ndelete list.About;delete list.status;delete list.Faculty_list;delete list.picture;delete list.Search;return list;});return/*#__PURE__*/_jsxs(\"div\",{className:\"display\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"results-list-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"results-list-page-nav\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Results \"}),/*#__PURE__*/_jsx(\"button\",{\"data-operation\":\"-\",onClick:changeIndexHandler,children:\"<\"}),\" \",Index.start,\" - \",Index.end,/*#__PURE__*/_jsx(\"button\",{\"data-operation\":\"+\",onClick:changeIndexHandler,children:\">\"}),\" \"]}),/*#__PURE__*/_jsx(\"h3\",{style:{backgroundColor:'rgb(25, 140, 255)',color:'white',textAlign:'center',padding:'10px'},onClick:function onClick(){return setsort(!sorting);},children:\"FACULTY LIST\"}),list.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"results\",children:/*#__PURE__*/_jsx(\"ul\",{children:vals.map(function(x,index){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){setData(x);setIndividualindex(index);},children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/en/7/77/Bannari_Amman_Institute_of_Technology_logo.png\",alt:\"BANNARI AMMAN INSTITUTE OF TECHNOLOGY\",style:{height:'30px',width:'50px',padding:'0px'}}),/*#__PURE__*/_jsxs(\"span\",{style:{textAlign:'center',margin:'10px',height:'44px'},children:[\" \",\"\".concat(x.faculty_id,\" - \").concat(x.name)]})]})},index);})})}):/*#__PURE__*/_jsx(\"span\",{children:\"No Data Found\"})]}),/*#__PURE__*/_jsx(\"br\",{}),data===undefined?'':/*#__PURE__*/_jsx(Individual,{data:data,year:year,list:list,vals:vals,setData:setData,individualIndex:individualIndex,setIndividualindex:setIndividualindex})]});}","map":{"version":3,"sources":["D:/PROJECT/practice/src/components/Search/Results/ResultsList.js"],"names":["React","useState","useEffect","Individual","axios","ResultsList","list","updateId","updateIndex","Index","sorting","setsort","vals","slice","start","end","data","setData","individualIndex","setIndividualindex","cay","caym1","caym2","year","setyear","response","get","JSON","stringify","sort","a","b","faculty_id","localeCompare","changeIndexHandler","e","operation","target","getAttribute","length","map","id","About","status","Faculty_list","picture","Search","backgroundColor","color","textAlign","padding","x","index","height","width","margin","name","undefined"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from \"react\";\r\n\r\nimport Individual from './individuasl';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default function ResultsList({ list, updateId, updateIndex, Index }) {\r\n  const [sorting,setsort]=useState(0)\r\n  let vals;\r\n  vals=list.slice(Index.start, Index.end)\r\n  const [data,setData]=useState(vals[0])\r\n  const [individualIndex,setIndividualindex]=useState(0)\r\n  \r\n  const [year,setyear]=useState([{cay:null,caym1:null,caym2:null}])\r\n  useEffect(() => {\r\n    const response = async () => {\r\n      const { data } = await axios.get(\r\n        `api/faculty/academic/`\r\n      );\r\n      JSON.stringify(data);\r\n      setyear(data);\r\n      // console.log(\"Liost\",data)\r\n      // setPersonData(data);\r\n    };\r\n    response();\r\n  }, []);\r\n  useEffect(()=>{\r\n    updateIndex({\r\n      start:0,\r\n      end:18\r\n    })\r\n  },[list])\r\n\r\nuseEffect(()=>{\r\n  vals=list.slice(Index.start, Index.end)\r\n  setData(vals[0])\r\n  setIndividualindex(0)\r\n  \r\n},[list,Index.start,sorting])  \r\n  \r\n  if(!sorting){\r\n    list.sort((a, b) => a.faculty_id.localeCompare(b.faculty_id))\r\n\r\n  }\r\n  if(sorting){\r\n    list.sort((a, b) => b.faculty_id.localeCompare(a.faculty_id))\r\n\r\n  }\r\n\r\n\r\n  const changeIndexHandler = (e) => {\r\n    setIndividualindex(0)\r\n    \r\n    let operation = e.target.getAttribute(\"data-operation\");\r\n    if (operation === \"-\")\r\n      if (Index.start > 0)\r\n        updateIndex({\r\n          start: Index.start - 18,\r\n          end: Index.end - 18,\r\n        });\r\n      else if (Index.end <= list.length)\r\n        updateIndex({\r\n          start: 0,\r\n          end: 18,\r\n        });\r\n      else\r\n        updateIndex({\r\n          start: Index.start,\r\n          end: Index.end,\r\n        });\r\n    else if (Index.end <= list.length)\r\n      updateIndex({\r\n        start: Index.start + 18,\r\n        end: Index.end + 18,\r\n      });\r\n      \r\n  };\r\n\r\n \r\n  list=list.map(list=>{\r\n   delete list.id;\r\n  //  delete list.central_responsibility;\r\n   delete list.About;\r\n   delete list.status;\r\n   delete list.Faculty_list;\r\n   delete list.picture;\r\n   delete list.Search;\r\n   return list\r\n  })\r\n\r\n  \r\n\r\n  \r\n  return (\r\n    <div className=\"display\">\r\n    <div className=\"results-list-container\">\r\n      <div className=\"results-list-page-nav\">\r\n        <p>Results </p>\r\n        <button data-operation=\"-\" onClick={changeIndexHandler}>\r\n          &lt;\r\n        </button>{\" \"}\r\n        {Index.start} - {Index.end}\r\n        <button data-operation=\"+\" onClick={changeIndexHandler}>\r\n          &gt;\r\n        </button>{\" \"}\r\n      </div>\r\n      <h3 style={{backgroundColor:'rgb(25, 140, 255)',\r\n    color:'white',\r\n    textAlign:'center',\r\n    padding:'10px'}}onClick={()=>setsort(!sorting)}>FACULTY LIST</h3>\r\n\r\n      {list.length > 0 ? (\r\n        <div className=\"results\">\r\n        \r\n        <ul>\r\n          {vals.map((x,index) => (\r\n          \r\n            <li key={index}onClick={()=>{setData(x)\r\n              setIndividualindex(index)\r\n            }}>\r\n              <p>\r\n              <img src=\"https://upload.wikimedia.org/wikipedia/en/7/77/Bannari_Amman_Institute_of_Technology_logo.png\"  alt=\"BANNARI AMMAN INSTITUTE OF TECHNOLOGY\" style={{height:'30px',width:'50px',padding:'0px'}}/>\r\n              <span style={{textAlign:'center',margin:'10px',height:'44px'}}> {`${x.faculty_id} - ${x.name}`}</span></p>\r\n            </li>\r\n           \r\n          ))}\r\n        </ul>\r\n        </div>\r\n      ) : (\r\n        <span>No Data Found</span>\r\n        \r\n      )}\r\n\r\n\r\n    </div><br/>\r\n\r\n    {data===undefined?'':<Individual data={data} year={year} list={list} vals={vals} setData={setData} individualIndex={individualIndex} setIndividualindex={setIndividualindex}/>}\r\n\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}