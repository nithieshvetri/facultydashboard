{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECT\\\\practice\\\\src\\\\components\\\\Search\\\\SearchContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Input from \"./Input\";\nimport ResultsList from \"./Results/ResultsList\";\nimport MultiRangeSlider from \"./MultiRangeSlider\";\nimport Select from \"./Select\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SearchContainer(props) {\n  _s();\n\n  const [query, setQuery] = useState({});\n  const [reset, setReset] = useState(0);\n  const [List, setList] = useState([]);\n  const [PersonData, setPersonData] = useState([]);\n  const [searchID, setSearchID] = useState(\"\");\n  const [valuesList, setValuesList] = useState({});\n  const [Index, setIndex] = useState({\n    start: 0,\n    end: 18\n  });\n  const [fieldValues, setFieldValues] = useState({});\n\n  console.log = console.warn = console.error = () => {}; // Updating State when input values change\n\n\n  const [thamz, setthamz] = useState([{\n    \"CAY_FAP_Score__min\": \"0.00\"\n  }, {\n    \"CAY_FAP_Score__max\": \"11.00\"\n  }, {\n    \"CAY_Feedback_Score__min\": \"0.00\"\n  }, {\n    \"CAY_Feedback_Score__max\": \"1.00\"\n  }, {\n    \"CAY_FRP_Score__min\": \"0.08\"\n  }, {\n    \"CAY_FRP_Score__max\": \"8.10\"\n  }, {\n    \"CAY_FRS__min\": \"-706\"\n  }, {\n    \"CAY_FRS__max\": \"8201\"\n  }]);\n  useEffect(() => {\n    const response = async () => {\n      const {\n        data\n      } = await axios.get('http://127.0.0.1:8000/api/faculty/minmax/');\n      JSON.stringify(data);\n      setthamz(data);\n    };\n\n    response();\n  }, []);\n  console.log(parseInt(thamz[1].CAY_FAP_Score__max), 'niawsf');\n  let a2 = parseInt(thamz[1].CAY_FAP_Score__max);\n  let a1 = parseInt(thamz[0].CAY_FAP_Score__min); // let\n\n  const facultyData = [{\n    label: \"Faculty Id\",\n    type: \"text\",\n    \"data-element\": \"input\",\n    id: \"faculty_id\"\n  }, {\n    label: \"Faculty Name\",\n    type: \"text\",\n    \"data-element\": \"input\",\n    id: \"name\"\n  }, {\n    label: \"Designation\",\n    \"data-element\": \"select\",\n    id: \"designation\",\n    url: \"/designation\"\n  }, {\n    label: \"Department\",\n    \"data-element\": \"select\",\n    id: \"department\",\n    url: \"/dept\"\n  }, {\n    label: \"Central Responsibility\",\n    \"data-element\": \"select\",\n    id: \"central_responsibility\",\n    url: \"/cr\"\n  }, // {\n  //   label: \"Email Id\",\n  //   type: \"text\",\n  //   \"data-element\": \"input\",\n  //   id: \"email\",\n  // },\n  // {\n  //   label: \"Date of joining\",\n  //   type: \"date\",\n  //   \"data-element\": \"input\",\n  //   id: \"date_of_joining\",\n  // },\n  {\n    label: \"FAP Score\",\n    type: \"range\",\n    min: parseInt(thamz[0].CAY_FAP_Score__min),\n    max: parseInt(thamz[1].CAY_FAP_Score__max),\n    step: 0.1,\n    \"data-element\": \"input\",\n    id: \"CAY_FAP_Score\"\n  }, {\n    label: \"Feedback Score\",\n    type: \"range\",\n    min: parseInt(thamz[2].CAY_Feedback_Score__min),\n    max: parseInt(thamz[3].CAY_Feedback_Score__max),\n    step: 0.1,\n    \"data-element\": \"input\",\n    id: \"CAY_Feedback_Score\"\n  }, {\n    label: \"FRP Score\",\n    type: \"range\",\n    min: parseInt(thamz[4].CAY_FRP_Score__min),\n    max: parseInt(thamz[5].CAY_FRP_Score__max),\n    step: 0.1,\n    \"data-element\": \"input\",\n    id: \"CAY_FRP_Score\"\n  }, {\n    label: \"FRS Score\",\n    type: \"range\",\n    min: parseInt(thamz[6].CAY_FRS__min),\n    max: parseInt(thamz[7].CAY_FRS__max),\n    // min: parseInt(thamz[0].min),\n    // max: parseInt(thamz[0].CAY_FAP_Score__max),\n    step: 25,\n    \"data-element\": \"input\",\n    id: \"CAY_FRS\"\n  }];\n\n  const resetValues = a => {\n    facultyData.map(x => setFieldValues(prev => ({ ...prev,\n      [x.id]: ''\n    })));\n  };\n\n  useEffect(() => {\n    resetValues(0);\n  }, []);\n  useEffect(() => {\n    console.log(\"fie;ld\", fieldValues);\n  }, [fieldValues]);\n\n  const changeHandler = (key, val) => {\n    console.log(\"key and val\", key, val); // console.log(\"Test\", valuesList[key].min.current)\n    // setIndex({\n    //   start: 0,\n    //   end: 18,\n    // });\n    // if (Object.keys(query).length <= 0) return;\n\n    Object.keys(valuesList).indexOf(key) >= 0 ? setQuery(prevState => ({ ...prevState,\n      [key]: {\n        min: valuesList[key].min.current,\n        max: valuesList[key].max.current\n      }\n    })) : setQuery(prevState => ({ ...prevState,\n      [key]: val\n    }));\n    setFieldValues(prev => ({ ...prev,\n      [key]: val\n    }));\n  };\n\n  console.log(thamz[0], 'gcbudjs'); // fetching list of faculties\n\n  let ni = thamz[0]; // console.log(\"minin\",ni.CAY_FAP_Score__min)\n\n  useEffect(() => {\n    const response = async () => {\n      const {\n        data\n      } = await axios.get(`api/faculty/lists/`);\n      JSON.stringify(data);\n      setList(data); // console.log(\"Liost\",data)\n\n      setPersonData(data);\n    };\n\n    response();\n  }, []); // Displaying Faculty Details by their Id\n\n  useEffect(() => {\n    if (searchID === \"\") return; // console.log(searchID);\n\n    const fetchPerson = async () => {\n      const response = fetch(`api/faculty/lists/?faculty_id__icontains=${searchID}`);\n      const person = await (await response).json(); // console.log(\"faculty\", person);\n\n      setPersonData(person);\n    };\n\n    fetchPerson();\n  }, [searchID]); // console.log(PersonData,'nnk')\n  // request based on Input values\n\n  useEffect(() => {\n    let url = \"api/faculty/lists/?\"; // console.log(\"QQQQQQQuery\", query)\n\n    if (!Object.keys(query)) return;\n    Object.keys(query).forEach(x => {\n      url += Object.keys(valuesList).indexOf(x) >= 0 ? `${x}__lte=${valuesList[x].max.current}&${x}__gte=${valuesList[x].min.current}&` : `${x}__icontains=${query[x]}&`;\n    });\n\n    const fetchData = async url => {\n      const resp = await fetch(`/${url}`);\n      const response = await resp.json();\n      setPersonData(response);\n      setList(response);\n    };\n\n    fetchData(url); // console.warn(\"urlll\",url)\n    // console.warn(\"urlll\",query)\n  }, [query, valuesList]); //console.log(\"vaa\",query)\n\n  useEffect(() => {\n    setReset(0);\n    console.log(\"Queryyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\", query);\n  }, [query]);\n  useEffect(() => {}, [valuesList]);\n  useEffect(() => {\n    if (reset == 1) {\n      setQuery({});\n    }\n  }, [reset]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-container\",\n      children: facultyData.map((field, index) => field[\"data-element\"] === \"input\" ? field['type'] === 'range' ? /*#__PURE__*/_jsxDEV(MultiRangeSlider, {\n        reset: reset,\n        ...field,\n        list: setValuesList,\n        onChange: changeHandler\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 42\n      }, this) : /*#__PURE__*/_jsxDEV(Input, {\n        value: fieldValues[field.id],\n        reset: reset,\n        ...field,\n        onChange: changeHandler\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 15\n      }, this) :\n      /*#__PURE__*/\n      // <Input label={field.label} type={field.type} />\n      _jsxDEV(Select, {\n        reset: reset,\n        ...field,\n        value: query[field.id] === undefined ? '' : query[field.id],\n        onChange: changeHandler\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"reset\",\n      onClick: e => {\n        // window.location.reload(false)\n        resetValues(2);\n        console.log(\"field\", fieldValues['name']);\n        setReset(1); // setQuery({})\n      },\n      children: \"Reset\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-results-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-results\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: [\"TOTAL LIST OF FACULTIES:\", List.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), PersonData.length === List.length || PersonData.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(ResultsList, {\n            list: List,\n            updateId: setSearchID,\n            updateIndex: setIndex,\n            Index: Index\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"No Match Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchContainer, \"0wsagxck2ztbbCLqoLfsVAVztJo=\");\n\n_c = SearchContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchContainer\");","map":{"version":3,"sources":["D:/PROJECT/practice/src/components/Search/SearchContainer.js"],"names":["React","useState","useEffect","axios","Input","ResultsList","MultiRangeSlider","Select","SearchContainer","props","query","setQuery","reset","setReset","List","setList","PersonData","setPersonData","searchID","setSearchID","valuesList","setValuesList","Index","setIndex","start","end","fieldValues","setFieldValues","console","log","warn","error","thamz","setthamz","response","data","get","JSON","stringify","parseInt","CAY_FAP_Score__max","a2","a1","CAY_FAP_Score__min","facultyData","label","type","id","url","min","max","step","CAY_Feedback_Score__min","CAY_Feedback_Score__max","CAY_FRP_Score__min","CAY_FRP_Score__max","CAY_FRS__min","CAY_FRS__max","resetValues","a","map","x","prev","changeHandler","key","val","Object","keys","indexOf","prevState","current","ni","fetchPerson","fetch","person","json","forEach","fetchData","resp","field","index","undefined","e","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Input from \"./Input\";\r\nimport ResultsList from \"./Results/ResultsList\";\r\nimport MultiRangeSlider from \"./MultiRangeSlider\";\r\nimport Select from \"./Select\";\r\nexport default function SearchContainer(props) {\r\n  \r\n  const [query, setQuery] = useState({});\r\n  const [reset,setReset]=useState(0);\r\n  const [List, setList] = useState([]);\r\n  const [PersonData, setPersonData] = useState([]);\r\n  const [searchID, setSearchID] = useState(\"\");\r\n  const [valuesList, setValuesList] = useState({});\r\n  const [Index, setIndex] = useState({\r\n    start: 0,\r\n    end: 18,\r\n  });\r\n  const [fieldValues, setFieldValues] = useState({})\r\n  console.log = console.warn = console.error = () => {};\r\n  // Updating State when input values change\r\n  const [thamz,setthamz]=useState([{\"CAY_FAP_Score__min\": \"0.00\"}, {\"CAY_FAP_Score__max\": \"11.00\"}, {\"CAY_Feedback_Score__min\": \"0.00\"}, {\"CAY_Feedback_Score__max\": \"1.00\"}, {\"CAY_FRP_Score__min\": \"0.08\"}, {\"CAY_FRP_Score__max\": \"8.10\"}, {\"CAY_FRS__min\": \"-706\"}, {\"CAY_FRS__max\": \"8201\"}])\r\n\r\n  useEffect(()=>{\r\n    const response = async () => {\r\n      const { data } = await axios.get(\r\n       'http://127.0.0.1:8000/api/faculty/minmax/'\r\n       );\r\n      JSON.stringify(data);\r\n      setthamz(data);\r\n  };\r\n  response();\r\n},[])\r\nconsole.log(parseInt(thamz[1].CAY_FAP_Score__max),'niawsf')\r\nlet a2=parseInt(thamz[1].CAY_FAP_Score__max)\r\nlet a1=parseInt(thamz[0].CAY_FAP_Score__min)\r\n// let\r\n  const facultyData = [\r\n    {\r\n      label: \"Faculty Id\",\r\n      type: \"text\",\r\n      \"data-element\": \"input\",\r\n      id: \"faculty_id\",\r\n    },\r\n    {\r\n      label: \"Faculty Name\",\r\n      type: \"text\",\r\n      \"data-element\": \"input\",\r\n      id: \"name\",\r\n    },\r\n    {\r\n      label: \"Designation\",\r\n      \"data-element\": \"select\",\r\n      id: \"designation\",\r\n      url: \"/designation\",\r\n    },\r\n    {\r\n      label: \"Department\",\r\n      \"data-element\": \"select\",\r\n      id: \"department\",\r\n      url: \"/dept\",\r\n    },\r\n    {\r\n      label: \"Central Responsibility\",\r\n      \"data-element\": \"select\",\r\n      id: \"central_responsibility\",\r\n      url: \"/cr\",\r\n    },\r\n    // {\r\n    //   label: \"Email Id\",\r\n    //   type: \"text\",\r\n    //   \"data-element\": \"input\",\r\n    //   id: \"email\",\r\n    // },\r\n    // {\r\n    //   label: \"Date of joining\",\r\n    //   type: \"date\",\r\n    //   \"data-element\": \"input\",\r\n    //   id: \"date_of_joining\",\r\n    // },\r\n    {\r\n      label: \"FAP Score\",\r\n      type: \"range\",\r\n      min: parseInt(thamz[0].CAY_FAP_Score__min),\r\n      max: parseInt(thamz[1].CAY_FAP_Score__max),\r\n      step: 0.1,\r\n      \"data-element\": \"input\",\r\n      id: \"CAY_FAP_Score\",\r\n    },\r\n    {\r\n      label: \"Feedback Score\",\r\n      type: \"range\",\r\n      min: parseInt(thamz[2].CAY_Feedback_Score__min),\r\n      max: parseInt(thamz[3].CAY_Feedback_Score__max),\r\n      step: 0.1,\r\n      \"data-element\": \"input\",\r\n      id: \"CAY_Feedback_Score\",\r\n    },\r\n    {\r\n      label: \"FRP Score\",\r\n      type: \"range\",\r\n      min: parseInt(thamz[4].CAY_FRP_Score__min),\r\n      max: parseInt(thamz[5].CAY_FRP_Score__max),\r\n      step: 0.1,\r\n      \"data-element\": \"input\",\r\n      id: \"CAY_FRP_Score\",\r\n    },\r\n    {\r\n      label: \"FRS Score\",\r\n      type: \"range\",\r\n      min:parseInt(thamz[6].CAY_FRS__min),\r\n      max:parseInt(thamz[7].CAY_FRS__max),\r\n      // min: parseInt(thamz[0].min),\r\n      // max: parseInt(thamz[0].CAY_FAP_Score__max),\r\n      step: 25,\r\n      \"data-element\": \"input\",\r\n      id: \"CAY_FRS\",\r\n    },\r\n  ];\r\n  \r\n  const resetValues = (a) => {\r\n    facultyData.map(x => setFieldValues( prev => ({\r\n      ...prev,\r\n      [x.id] : ''\r\n    })))\r\n  }\r\n\r\n  useEffect(()=>{\r\n    resetValues(0)\r\n  }, [])\r\n  useEffect(()=>{\r\n\r\n    console.log(\"fie;ld\",fieldValues)\r\n  }, [fieldValues])\r\n  const changeHandler = (key, val) => {\r\n    console.log(\"key and val\" ,key, val )\r\n    // console.log(\"Test\", valuesList[key].min.current)\r\n    // setIndex({\r\n    //   start: 0,\r\n    //   end: 18,\r\n    // });\r\n    // if (Object.keys(query).length <= 0) return;\r\n    Object.keys(valuesList).indexOf(key) >= 0 ? \r\n    setQuery((prevState)=>({\r\n      ...prevState,\r\n      [key]: {min: valuesList[key].min.current, max: valuesList[key].max.current}\r\n    }))\r\n    :\r\n    setQuery((prevState) => ({\r\n      ...prevState,\r\n      [key]: val,\r\n\r\n    }));\r\n    \r\n    setFieldValues(prev => ({\r\n      ...prev,\r\n      [key]: val\r\n    }))\r\n  };\r\n\r\n  \r\nconsole.log(thamz[0],'gcbudjs')\r\n  // fetching list of faculties\r\nlet ni=thamz[0]\r\n// console.log(\"minin\",ni.CAY_FAP_Score__min)\r\n  useEffect(() => {\r\n    const response = async () => {\r\n      const { data } = await axios.get(\r\n        `api/faculty/lists/`\r\n      );\r\n      JSON.stringify(data);\r\n      setList(data);\r\n      // console.log(\"Liost\",data)\r\n      setPersonData(data);\r\n    };\r\n    response();\r\n  }, []);\r\n\r\n  // Displaying Faculty Details by their Id\r\n\r\n  useEffect(() => {\r\n    if (searchID === \"\") return;\r\n    // console.log(searchID);\r\n    const fetchPerson = async () => {\r\n      const response = fetch(\r\n        `api/faculty/lists/?faculty_id__icontains=${searchID}`\r\n      );\r\n      const person = await (await response).json();\r\n      // console.log(\"faculty\", person);\r\n      setPersonData(person);\r\n    };\r\n    fetchPerson();\r\n  }, [searchID]);\r\n  // console.log(PersonData,'nnk')\r\n\r\n  // request based on Input values\r\n\r\n  useEffect(() => {\r\n    let url = \"api/faculty/lists/?\";\r\n    // console.log(\"QQQQQQQuery\", query)\r\n    if (!Object.keys(query)) return;\r\n    Object.keys(query).forEach((x) => {\r\n      url +=\r\n        Object.keys(valuesList).indexOf(x) >=0\r\n          ? `${x}__lte=${valuesList[x].max.current}&${x}__gte=${valuesList[x].min.current}&`\r\n          : `${x}__icontains=${query[x]}&`;\r\n    });\r\n    const fetchData = async (url) => {\r\n      const resp = await fetch(`/${url}`);\r\n      const response = await resp.json();\r\n      setPersonData(response);\r\n      setList(response);\r\n      \r\n    };\r\n    fetchData(url);\r\n    // console.warn(\"urlll\",url)\r\n    // console.warn(\"urlll\",query)\r\n  }, [query,valuesList]);\r\n  //console.log(\"vaa\",query)\r\n  useEffect(()=>{\r\n    setReset(0)\r\n    console.log(\"Queryyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy\",query)\r\n  }, [query])\r\n\r\n  useEffect(()=>{\r\n  }, [valuesList])\r\n\r\n  useEffect(()=>{\r\n    if(reset==1){\r\n\r\n    setQuery({})}\r\n  },[reset])\r\n\r\n\r\n\r\n  \r\n  return (\r\n    <>\r\n      <div className=\"search-container\">\r\n        {facultyData.map((field,index) =>\r\n          field[\"data-element\"] === \"input\" ? (\r\n           field['type'] === 'range' ?   <MultiRangeSlider key={index} reset={reset}\r\n           {...field} list = {setValuesList}\r\n           onChange={changeHandler}\r\n         /> : <Input  key={index} value={fieldValues[field.id]}  reset={reset} {...field} onChange={changeHandler} />\r\n          ) : (\r\n            // <Input label={field.label} type={field.type} />\r\n            <Select key={index} reset={reset} {...field} value={query[field.id] === undefined ? '' : query[field.id]} onChange={changeHandler} />\r\n          )\r\n        )}\r\n      </div>\r\n      \r\n\r\n      <button  className=\"reset\" onClick={(e)=>{\r\n        // window.location.reload(false)\r\n        resetValues(2);\r\n        console.log(\"field\" ,fieldValues['name'] )\r\n\r\n        setReset(1);\r\n        // setQuery({})\r\n      }\r\n        }>Reset</button>\r\n      <div className=\"search-results-container\">\r\n        <hr />\r\n        <div className=\"search-results\">\r\n          <h5>TOTAL LIST OF FACULTIES:{List.length}</h5>\r\n          \r\n          {/* checking whether the states have same length before rendering */}\r\n          {PersonData.length === List.length || PersonData.length > 0 ? (\r\n            <>\r\n              <ResultsList\r\n                list={List}\r\n                updateId={setSearchID}\r\n                updateIndex={setIndex}\r\n                Index={Index}\r\n              />\r\n              \r\n            </>\r\n          ) : (\r\n            <>\r\n              {/* This element will render when there is no match found by checking the length of state variable ie, PersonData */}\r\n              <span>No Match Found</span>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}