{"ast":null,"code":"import _toConsumableArray from\"D:/PROJECT/practice/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"D:/PROJECT/practice/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/PROJECT/practice/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/PROJECT/practice/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Select(props){// console.log(props)\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),options=_useState2[0],setOptions=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),val=_useState4[0],setVal=_useState4[1];useEffect(function(){setVal('');},[props]);useEffect(function(){// props.onChange(props.id, \"\");\nvar fetchList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(props.base,\"api/faculty\").concat(props.url,\"/\"));case 2:resp=_context.sent;_context.next=5;return resp.json();case 5:data=_context.sent;setOptions(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchList(){return _ref.apply(this,arguments);};}();fetchList();console.log(\"nithiesh\",props);},[props.url,props.reset]);// useEffect(()=>{\n//   setOption([\"SELECT\",...options])\n// },[options])\nvar changeHandler=function changeHandler(e){console.log(e.target.value);setVal(e.target.value);if(e.target.value==='SELECT')props.onChange(props.id,\"\");// else if(props.reset===1){\n//   props.onChange(props.id,e.target.value=\"\")\n//   // setVaa(\"\")\n// }\nelse props.onChange(props.id,e.target.value);};// console.log(\"vanakkam\",vaa)\nvar option=['SELECT'].concat(_toConsumableArray(options));useEffect(function(){option=['SELECT'].concat(_toConsumableArray(options));},[props.reset]);return/*#__PURE__*/_jsxs(\"div\",{className:\"search-input-groups\",children:[/*#__PURE__*/_jsx(\"label\",{children:props.label}),/*#__PURE__*/_jsx(\"select\",{value:props.value,onChange:function onChange(e){return changeHandler(e);}// setVaa(e.target.value)\n// value=e.target.value\n,children:option.length>0&&option.map(function(x){return/*#__PURE__*/_jsx(\"option\",{children:x},x);})})]});}","map":{"version":3,"sources":["D:/PROJECT/practice/src/components/Search/Select.js"],"names":["React","useState","useEffect","Select","props","options","setOptions","val","setVal","fetchList","fetch","base","url","resp","json","data","console","log","reset","changeHandler","e","target","value","onChange","id","option","label","length","map","x"],"mappings":"6ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CACpC;AACA,cAA8BH,QAAQ,CAAC,EAAD,CAAtC,wCAAOI,OAAP,eAAgBC,UAAhB,eACA,eAAmBL,QAAQ,CAAC,EAAD,CAA3B,yCAAOM,GAAP,eAAWC,MAAX,eACAN,SAAS,CAAC,UAAI,CACZM,MAAM,CAAC,EAAD,CAAN,CACD,CAFQ,CAEN,CAACJ,KAAD,CAFM,CAAT,CAGAF,SAAS,CAAC,UAAM,CACd;AACA,GAAMO,CAAAA,SAAS,0FAAG,uKACGC,CAAAA,KAAK,WACnBN,KAAK,CAACO,IADa,uBACKP,KAAK,CAACQ,GADX,MADR,QACVC,IADU,qCAIKA,CAAAA,IAAI,CAACC,IAAL,EAJL,QAIRC,IAJQ,eAKdT,UAAU,CAACS,IAAD,CAAV,CALc,sDAAH,kBAATN,CAAAA,SAAS,0CAAf,CAOAA,SAAS,GACTO,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAuBb,KAAvB,EACD,CAXQ,CAWN,CAACA,KAAK,CAACQ,GAAP,CAAWR,KAAK,CAACc,KAAjB,CAXM,CAAT,CAaF;AACA;AACA;AAEE,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CAC/BJ,OAAO,CAACC,GAAR,CAAYG,CAAC,CAACC,MAAF,CAASC,KAArB,EAEId,MAAM,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN,CACA,GAAGF,CAAC,CAACC,MAAF,CAASC,KAAT,GAAiB,QAApB,CAA6BlB,KAAK,CAACmB,QAAN,CAAenB,KAAK,CAACoB,EAArB,CAAyB,EAAzB,EAC/B;AACA;AACA;AACA;AAJE,IAMJpB,CAAAA,KAAK,CAACmB,QAAN,CAAenB,KAAK,CAACoB,EAArB,CAAyBJ,CAAC,CAACC,MAAF,CAASC,KAAlC,EACC,CAXC,CAYF;AACA,GAAIG,CAAAA,MAAM,EAAE,QAAF,4BAAcpB,OAAd,EAAV,CACAH,SAAS,CAAC,UAAI,CACZuB,MAAM,EAAE,QAAF,4BAAcpB,OAAd,EAAN,CACD,CAFQ,CAEP,CAACD,KAAK,CAACc,KAAP,CAFO,CAAT,CAKE,mBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,uBAAQd,KAAK,CAACsB,KAAd,EADF,cAEE,eACA,KAAK,CAAEtB,KAAK,CAACkB,KADb,CAEA,QAAQ,CAAE,kBAACF,CAAD,QAAKD,CAAAA,aAAa,CAACC,CAAD,CAAlB,EACV;AAEA;AALA,UAQGK,MAAM,CAACE,MAAP,CAAgB,CAAhB,EACCF,MAAM,CAACG,GAAP,CAAW,SAACC,CAAD,qBACT,wBACGA,CADH,EAAcA,CAAd,CADS,EAAX,CATJ,EAFF,GADF,CAoBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nexport default function Select(props) {\r\n  // console.log(props)\r\n  const [options, setOptions] = useState([]);\r\n  const [val,setVal]=useState('')\r\n  useEffect(()=>{\r\n    setVal('')\r\n  }, [props])\r\n  useEffect(() => {\r\n    // props.onChange(props.id, \"\");\r\n    const fetchList = async () => {\r\n      const resp = await fetch(\r\n        `${props.base}api/faculty${props.url}/`\r\n        );\r\n        const data = await resp.json();\r\n        setOptions(data);\r\n    };\r\n    fetchList();\r\n    console.log(\"nithiesh\",props);\r\n  }, [props.url,props.reset]);\r\n\r\n// useEffect(()=>{\r\n//   setOption([\"SELECT\",...options])\r\n// },[options])\r\n\r\n  const changeHandler = (e) => {\r\nconsole.log(e.target.value)\r\n\r\n    setVal(e.target.value)\r\n    if(e.target.value==='SELECT')props.onChange(props.id, \"\")\r\n  // else if(props.reset===1){\r\n  //   props.onChange(props.id,e.target.value=\"\")\r\n  //   // setVaa(\"\")\r\n  // }\r\nelse\r\nprops.onChange(props.id, e.target.value)\r\n};\r\n// console.log(\"vanakkam\",vaa)\r\nlet option=['SELECT',...options]\r\nuseEffect(()=>{\r\n  option=['SELECT',...options]\r\n},[props.reset])\r\n\r\n\r\n  return (\r\n    <div className=\"search-input-groups\">\r\n      <label>{props.label}</label>\r\n      <select \r\n      value={props.value}\r\n      onChange={(e)=>changeHandler(e)\r\n      // setVaa(e.target.value)\r\n      \r\n      // value=e.target.value\r\n    }\r\n      >\r\n        {option.length > 0 &&\r\n          option.map((x) => (\r\n            <option  key={x}>\r\n              {x}\r\n            </option>\r\n          ))}\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}